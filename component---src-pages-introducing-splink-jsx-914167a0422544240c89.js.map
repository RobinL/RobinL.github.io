{"version":3,"sources":["webpack://gatsby-starter-hello-world/./src/components/mdx_obs_page.jsx","webpack://gatsby-starter-hello-world/./src/mdx/introducing_splink.mdx","webpack://gatsby-starter-hello-world/./src/pages/introducing_splink.jsx"],"names":["props","post","define","output_order","children","css","className","title","post_frontmatter","description","layoutProps","_frontmatter","MDXContent","components","mdxType","parentName","isMDXComponent","frontmatter","post_date","code_url","post_type","post_category","data"],"mappings":"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","file":"component---src-pages-introducing-splink-jsx-914167a0422544240c89.js","sourcesContent":["import React from 'react'\nimport Layout from \"../layouts/layout\"\nimport ObeservableNotebookDiv from \"./observable_div\"\nimport PostFrontMatter from \"./post_frontmatter\"\nimport SEO from \"../components/seo\"\n\nfunction ObsMdxPage(props) {\n\n\n  let post\n\n  if (props.define) {\n    post = <ObeservableNotebookDiv define={props.define} output_order={props.output_order} />\n  } else {\n    post = props.children\n  }\n\n  return (\n    <Layout css={props.className}>\n      <SEO title={props.post_frontmatter.title} description={props.post_frontmatter.description} />\n      <PostFrontMatter post_frontmatter={props.post_frontmatter} />\n      {post}\n    </Layout>\n  )\n\n}\n\nexport default ObsMdxPage","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1>{`Fuzzy Matching and Deduplicating Hundreds of Millions of Records using Apache Spark`}</h1>\n    <p>{`A common data quality problem is to have multiple different records that refer to the same entity but no unique identifier that ties these entities together.`}</p>\n    <p>{`For instance, customer data may have been entered multiple times in multiple different computer systems, with different spellings of names, different addresses, and other typos. The lack of a unique customer identifier presents challenges at all stages of data analysis — from basic questions such counting the number of unique customers, to feature engineering of customers’ details for machine learning purposes.`}</p>\n    <p>{`There is a large body of theoretical and empirical work into this problem. The solution usually involves computing a new unique identifier column which allows entities to be linked and grouped, using a process of statistical estimation, machine learning and/or rules-based logic.`}</p>\n    <p>{`However, there is a lack of free software that can tackle this problem at the scale of millions of records — the size typically seen in large organisations. Solving the problem usually involves generating very large numbers of record comparisons and so is ill-suited to in-memory solutions in R or Python. Distributed computing frameworks like Apache Spark are a much better fit.`}</p>\n    <p>{`We have recently released a free and `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/moj-analytical-services/splink\"\n      }}>{`open source`}</a>{` library called `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`splink`}</code>{`, that implements the Fellegi-Sunter/Expectation Maximisation approach, one of the key statistical models from the data linking literature. This is an unsupervised learning algorithm which yields a match score for each pair of record comparisons.`}</p>\n    <h2>{`Introducing splink`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/moj-analytical-services/splink\"\n      }}>{`Splink`}</a>{` is a Pyspark library available on PyPi that can be installed using `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`pip`}</code>{` . It can be run with Spark installed locally on your laptop, but for large jobs you will need access to a Spark cluster.`}</p>\n    <p>{`The aims of `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`splink`}</code>{` are to:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Work at much greater scale than existing open source libraries (100 million records +).`}</li>\n      <li parentName=\"ul\">{`Compute results faster than existing open source implementations — with runtimes of less than an hour even for large record linking problems.`}</li>\n      <li parentName=\"ul\">{`Have a transparent methodology, so the match scores can be easily explained both graphically and in words`}</li>\n      <li parentName=\"ul\">{`Have accuracy similar to some of the best alternatives, open source or commercial`}</li>\n      <li parentName=\"ul\">{`Have a simple interface that offers flexibility and customizability, so users can tackle the majority of record linking and deduplication problems`}</li>\n      <li parentName=\"ul\">{`Be robust, with an automated suite of unit and integration tests.`}</li>\n    </ul>\n    <p>{`We have been testing the library for several months now, tackling large-scale data linking problems with significantly improved accuracy from previous approaches.`}</p>\n    <h2>{`Try it out`}</h2>\n    <p>{`You can try out the library in a Jupyter notebook using our Binder link `}<a parentName=\"p\" {...{\n        \"href\": \"https://mybinder.org/v2/gh/moj-analytical-services/splink_demos/master?urlpath=lab/tree/index.ipynb\"\n      }}>{`here`}</a>{`. These demos illustrate how to use the library, but note they are running in local mode on free servers, so don’t expect fast performance.`}</p>\n    <h2>{`How it works`}</h2>\n    <p>{`The library estimates matches using the Fellegi-Sunter/Expectation Maximisation framework, which you can `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.robinlinacre.com/probabilistic_linkage/\"\n      }}>{`learn more about in my interactive training materials`}</a>{`.`}</p>\n    <p>{`First, a large number of record comparisons (candidate pairs) are generated using an approach called `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Record_linkage#Probabilistic_record_linkage\"\n      }}>{`blocking`}</a>{`, which ensures only records that plausibly may refer to the same entity are generated.`}</p>\n    <p>{`Next, for each candidate pair, the fields (columns) are compared in turn — is there a match on first name, surname, date of birth, etc.`}</p>\n    <p>{`Next an iterative algorithm called Expectation Maximisation is used to maximise a likelihood function. This results in estimates of the amount of information contained in each field, and how this contributes to an overall assessment of whether the pair are a match.`}</p>\n    <p>{`For instance, consider a first name field:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`If first name matches, how much does this increase our confidence that the records are a match?`}</li>\n      <li parentName=\"ul\">{`If first name does not match, how much does this decrease our confidence that the records are a match?`}</li>\n    </ul>\n    <p>{`This will vary between fields. High quality fields with very high cardinality such as a social security number contribute a lot more information than low quality fields with low cardinality such as a person’s gender.`}</p>\n    <p>{`This information is then combined into an overall score between 0 and 1 of whether the pairwise record comparison represents a match.`}</p>\n    <h2>{`Sample Code`}</h2>\n    <p>{`We have tried to design an interface which is simple but nevertheless can be adapted to most record linkage and deduplication problems.`}</p>\n    <p>{`To illustrate how easy the library is to use with default settings, the following code could be used to deduplicate a large dataset:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"python\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-python\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-python\"\n        }}>{`df `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` spark`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`read`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`parquet`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"path_to_your_data\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{`\n\nsettings `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"link_type\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"dedupe_only\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"blocking_rules\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"l.first_name = r.first_name\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"l.surname = r.surname\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"l.dob = r.dob\"`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"comparison_columns\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"col_name\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"first_name\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"term_frequency_adjustments\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token boolean\"\n          }}>{`True`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"col_name\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"surname\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"term_frequency_adjustments\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token boolean\"\n          }}>{`True`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"col_name\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"dob\"`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"col_name\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"city\"`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n            `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"col_name\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"email\"`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`from`}</span>{` splink `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`import`}</span>{` Splink\nlinker `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` Splink`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`settings`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` spark`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` df`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{`df`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{`\ndf_e `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` linker`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`get_scored_comparisons`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{`\n`}</code></pre></div>\n    <p>{`The user has to configure two main parts of the problem:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Blocking rules. These are the rules to reduce the number of comparison records down from the Cartesian product to a computationally tractable number. In this case, record comparisons will only be generated for pairs where first name, surname or date of birth matches.`}</li>\n      <li parentName=\"ul\">{`Comparison columns. The user must specify which columns in the input dataset contain useful information which help to identify entities.`}</li>\n    </ul>\n    <p>{`For complex record linkage problems, the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`settings`}</code>{` object can become quite detailed. We have created an `}<a parentName=\"p\" {...{\n        \"href\": \"https://moj-analytical-services.github.io/splink_settings_editor/\"\n      }}>{`interactive online tool`}</a>{` for auto-completing and validating settings, which includes a series of examples.`}</p>\n    <p>{`Please do try `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`splink`}</code>{` and let us know what you think. You can raise issues or contribute at the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/moj-analytical-services/splink\"\n      }}>{`Github repo`}</a>{` or I’m @robinlinacre on Twitter.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import React from 'react'\nimport ObsMdxPage from \"../components/mdx_obs_page\"\nimport MDXDocument from \"../mdx/introducing_splink.mdx\"\n\nexport const frontmatter = {\n         title: \"Fuzzy Matching and Deduplicating Hundreds of Millions of Records using Apache Spark\",\n         post_date: \"2020-04-16\",\n         code_url:\n           \"https://github.com/RobinL/robinl.github.io/blob/dev/src/mdx/introducing_splink.mdx\",\n         post_type: \"mdx\",\n         post_category: \"data\",\n         description: \"Introducing splink, a Pyspark library for record linkage at scale using unsupervised learning\"\n       }\n\nexport default ({ data }) => (\n    <ObsMdxPage post_frontmatter={frontmatter}>\n        <MDXDocument />\n    </ObsMdxPage>\n)"],"sourceRoot":""}