(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[738],{2465:function(e,t,n){"use strict";function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return i}})},2263:function(e,t,n){"use strict";n(7294);var i=n(835),r=n(5802),o=n(7414),a=n(6140),u=n(674);t.Z=function(e){var t;return t=e.define?(0,u.tZ)(r.Z,{define:e.define,output_order:e.output_order}):e.children,(0,u.tZ)(i.Z,{css:e.className},(0,u.tZ)(a.Z,{title:e.post_frontmatter.title,description:e.post_frontmatter.description}),(0,u.tZ)(o.Z,{post_frontmatter:e.post_frontmatter}),t)}},922:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return he},frontmatter:function(){return me}});n(7294);var i,r,o,a,u,l,s,d,f,c,p,v,m,b,h,g,w,_,y,k,x,j,Z,M,G,A,C,S,D,P,E,T,q,z,N,O,U,I,L,F,W,Y,B,R,V,H,J,K,X,$,Q,ee,te,ne,ie,re,oe,ae=n(2465),ue=n(2137),le=n(4699),se=n(7757),de=n.n(se);function fe(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(i||(i=(0,ae.Z)(["| <h3>Friends & Family:</h3>  |   |\n|---|---|\n| **[@mbostock/form-input](/@mbostock/form-input)**  | Fully custom forms, combining inputs into a single reactive cell. |\n| **[@zechasault/color-schemes-and-interpolators-picker](/@zechasault/color-schemes-and-interpolators-picker)**  | Color scheme and interoplation pickers. |\n| **[@mootari/range-slider](https://observablehq.com/@mootari/range-slider)**  |  True range sliders, setting both a minimum and maximum value. |\n| **[@bumbeishvili/data-driven-range-sliders](/@bumbeishvili/data-driven-range-sliders)** | Data-driven range sliders, displaying a distribution histogram of the underlying data. |\n| **[@trebor/snapping-histogram-slider](/@trebor/snapping-histogram-slider)** | Another data-driven range slider option. |\n| **[@mootariâ€™s 2D Slider](https://observablehq.com/d/98bbb19bf9e859ee)** | Two dimensional sliders, exploring discrete points on a plane. |\n| **[@yurivish/ternary-slider](/@yurivish/ternary-slider)** | Nifty ternary plot inputs, describing the percentages of a whole composed of exactly three things. |\n\n\n<br>*If you have any improvements for the bazaar, [please make your change in a fork and send it to me as a suggestion.](https://observablehq.com/@observablehq/suggestions-and-comments)*"])))})),n.variable(t("sliderDemo")).define("sliderDemo",["md"],(function(e){return e(r||(r=(0,ae.Z)(['---\n## Sliders\n\n~~~js\nimport {slider} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof a")).define("viewof a",["slider"],(function(e){return e()})),n.variable(t("a")).define("a",["Generators","viewof a"],(function(e,t){return e.input(t)})),n.variable(t("viewof a1")).define("viewof a1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:".0%",description:"Zero to one, formatted as a percentage"})})),n.variable(t("a1")).define("a1",["Generators","viewof a1"],(function(e,t){return e.input(t)})),n.variable(t("viewof a1_1")).define("viewof a1_1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:function(e){return"".concat(Math.round(100*e)," per cent")},description:"Zero to one, formatted with a custom function"})})),n.variable(t("a1_1")).define("a1_1",["Generators","viewof a1_1"],(function(e,t){return e.input(t)})),n.variable(t("viewof a2")).define("viewof a2",["slider"],(function(e){return e({min:0,max:1e9,step:1e3,value:325e4,format:",",description:"Zero to one billion, in steps of one thousand, formatted as a (US) number"})})),n.variable(t("a2")).define("a2",["Generators","viewof a2"],(function(e,t){return e.input(t)})),n.variable(t("viewof a3")).define("viewof a3",["slider"],(function(e){return e({min:0,max:100,step:1,value:10,title:"Integers",description:"Integers from zero through 100"})})),n.variable(t("a3")).define("a3",["Generators","viewof a3"],(function(e,t){return e.input(t)})),n.variable(t("viewof a4")).define("viewof a4",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,description:"A high precision slider example"})})),n.variable(t("a4")).define("a4",["Generators","viewof a4"],(function(e,t){return e.input(t)})),n.variable(t("viewof a5")).define("viewof a5",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,submit:!0,description:"The same as a4, but only changes value on submit"})})),n.variable(t("a5")).define("a5",["Generators","viewof a5"],(function(e,t){return e.input(t)})),n.variable(t()).define(["md"],(function(e){return e(o||(o=(0,ae.Z)(["More [fancy slider techniques](https://beta.observablehq.com/@mootari/prime-numbers-slider)."])))})),n.variable(t("slider")).define("slider",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"==typeof t?{value:t}:t,i=n.min,r=void 0===i?0:i,o=n.max,a=void 0===o?1:o,u=n.value,l=void 0===u?(a+r)/2:u,s=n.step,d=void 0===s?"any":s,f=n.precision,c=void 0===f?2:f,p=n.title,v=n.description,m=n.getValue,b=n.format,h=n.display,g=n.submit;return c=Math.pow(10,c),m||(m=function(e){return Math.round(e.valueAsNumber*c)/c}),e({type:"range",title:p,description:v,submit:g,format:b,display:h,attributes:{min:r,max:a,step:d,value:l},getValue:m})}})),n.variable(t("buttonDemo")).define("buttonDemo",["md"],(function(e){return e(a||(a=(0,ae.Z)(['---\n## Buttons\n\n~~~js\nimport {button} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof b")).define("viewof b",["button"],(function(e){return e()})),n.variable(t("b")).define("b",["Generators","viewof b"],(function(e,t){return e.input(t)})),n.variable(t()).define(["b"],(function(e){return!this})),n.variable(t("viewof b1")).define("viewof b1",["button"],(function(e){return e({value:"Click me",description:"We use a reference to the button below to record the time you pressed it."})})),n.variable(t("b1")).define("b1",["Generators","viewof b1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["b1"],(function(e){return new Date(Date.now()).toUTCString()})),n.variable(t("button")).define("button",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"==typeof t?{value:t}:t,i=n.value,r=void 0===i?"Ok":i,o=n.title,a=n.description,u=n.disabled,l=e({type:"button",title:o,description:a,attributes:{disabled:u,value:r}});return l.output.remove(),l}})),n.variable(t("selectDemo")).define("selectDemo",["md"],(function(e){return e(u||(u=(0,ae.Z)(['---\n## Dropdown Menus and Multiselects\n\n~~~js\nimport {select} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof dd")).define("viewof dd",["select"],(function(e){return e(["Spring","Summer","Fall","Winter"])})),n.variable(t("dd")).define("dd",["Generators","viewof dd"],(function(e,t){return e.input(t)})),n.variable(t()).define(["dd"],(function(e){return e})),n.variable(t("viewof dd1")).define("viewof dd1",["select"],(function(e){return e({title:"Stooges",description:"Please pick your favorite stooge.",options:["Curly","Larry","Moe","Shemp"],value:"Moe"})})),n.variable(t("dd1")).define("dd1",["Generators","viewof dd1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["dd1"],(function(e){return e})),n.variable(t("viewof dd2")).define("viewof dd2",["select"],(function(e){return e({description:"As a child, which vegetables did you refuse to eat?",options:["Spinach","Broccoli","Brussels Sprouts","Cauliflower","Kale","Turnips","Green Beans","Asparagus"],multiple:!0})})),n.variable(t("dd2")).define("dd2",["Generators","viewof dd2"],(function(e,t){return e.input(t)})),n.variable(t()).define(["dd2"],(function(e){return e})),n.variable(t("viewof dd3")).define("viewof dd3",["select"],(function(e){var t=e({title:"How are you feeling today?",options:[{label:"ðŸ¤·",value:"shrug"},{label:"ðŸ˜‚",value:"tears-of-joy"},{label:"ðŸ˜",value:"loving-it"},{label:"ðŸ¤”",value:"hmmm"},{label:"ðŸ˜±",value:"yikes"},{label:"ðŸ˜ˆ",value:"mischievous"},{label:"ðŸ’©",value:"poo"}],value:"hmmm"});return t.input.style.fontSize="30px",t.input.style.marginTop="8px",t})),n.variable(t("dd3")).define("dd3",["Generators","viewof dd3"],(function(e,t){return e.input(t)})),n.variable(t()).define(["dd3"],(function(e){return e})),n.variable(t("select")).define("select",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Array.isArray(n)?{options:n}:n,r=i.value,o=i.title,a=i.description,u=i.submit,d=i.multiple,f=i.size,c=i.options;c=c.map((function(e){return"object"==typeof e?e:{value:e,label:e}}));var p=e({type:"select",title:o,description:a,submit:u,getValue:function(e){var t=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return e.value}));return d?t:t[0]},form:t(l||(l=(0,ae.Z)(['\n      <form>\n        <select name="input" ',">\n          ","\n        </select>\n      </form>\n    "])),d?'multiple size="'.concat(f||c.length,'"'):"",c.map((function(e){var n=e.value,i=e.label;return Object.assign(t(s||(s=(0,ae.Z)(["<option>"]))),{value:n,selected:Array.isArray(r)?r.includes(n):r===n,textContent:i})})))});return p.output.remove(),p}})),n.variable(t("autoSelectDemo")).define("autoSelectDemo",["md"],(function(e){return e(d||(d=(0,ae.Z)(['---\n## Autoselects\n*A variant of an option menu, using an autocompleting text input, via HTMLâ€™s datalist element.* \n\n~~~js\nimport {autoSelect} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof as")).define("viewof as",["autoSelect","usa"],(function(e,t){return e({options:t.objects.states.geometries.map((function(e){return e.properties.name})),placeholder:"Search for a US state . . ."})})),n.variable(t("as")).define("as",["Generators","viewof as"],(function(e,t){return e.input(t)})),n.variable(t()).define(["as"],(function(e){return e})),n.variable(t("autoSelect")).define("autoSelect",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Array.isArray(n)?{options:n}:n,r=i.value,o=i.title,a=i.description,u=(i.autocomplete,i.placeholder),l=(i.size,i.options),s=i.list,d=void 0===s?"options":s,p=new Set(l),v=e({type:"text",title:o,description:a,action:function(e){e.value=e.input.value=r||"",e.onsubmit=function(e){return e.preventDefault()},e.input.oninput=function(t){t.stopPropagation(),e.value=e.input.value,p.has(e.input.value)&&e.dispatchEvent(new CustomEvent("input"))}},form:t(f||(f=(0,ae.Z)(['\n      <form>\n         <input name="input" type="text" autocomplete="off" \n          placeholder="','" style="font-size: 1em;" list=','>\n          <datalist id="','">\n              ',"\n          </datalist>\n      </form>\n      "])),u,d,d,l.map((function(e){return Object.assign(t(c||(c=(0,ae.Z)(["<option>"]))),{value:e})})))});return v.output.remove(),v}})),n.variable(t("colorDemo")).define("colorDemo",["md"],(function(e){return e(p||(p=(0,ae.Z)(['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * `"#bada55"` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'],['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * \\`"#bada55"\\` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof c")).define("viewof c",["color"],(function(e){return e()})),n.variable(t("c")).define("c",["Generators","viewof c"],(function(e,t){return e.input(t)})),n.variable(t("viewof c1")).define("viewof c1",["color"],(function(e){return e({value:"#0000ff",title:"Background Color",description:"This color picker starts out blue"})})),n.variable(t("c1")).define("c1",["Generators","viewof c1"],(function(e,t){return e.input(t)})),n.variable(t("color")).define("color",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"==typeof t?{value:t}:t,i=n.value,r=void 0===i?"#000000":i,o=n.title,a=n.description,u=n.submit,l=n.display,s=e({type:"color",title:o,description:a,submit:u,display:l,attributes:{value:r}});return(o||a)&&(s.input.style.margin="5px 0"),s}})),n.variable(t("coordinatesDemo")).define("coordinatesDemo",["md"],(function(e){return e(v||(v=(0,ae.Z)([' ---\n## Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof coords1")).define("viewof coords1",["coordinates"],(function(e){return e()})),n.variable(t("coords1")).define("coords1",["Generators","viewof coords1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["coords1"],(function(e){return e})),n.variable(t("viewof coords2")).define("viewof coords2",["coordinates"],(function(e){return e({title:"Hometown",description:"Enter the coordinates of where you were born",value:[-122.27,37.87],submit:!0})})),n.variable(t("coords2")).define("coords2",["Generators","viewof coords2"],(function(e,t){return e.input(t)})),n.variable(t()).define(["coords2"],(function(e){return e})),n.variable(t("coordinates")).define("coordinates",["html","input"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Array.isArray(n)?{value:n}:n,r=i.value,o=void 0===r?[]:r,a=i.title,u=i.description,l=i.submit,s=(0,le.Z)(o,2),d=s[0],f=s[1];d=null!=d?d:"",f=null!=f?f:"";var c=e(m||(m=(0,ae.Z)(['<input name="input" type="number" autocomplete="off" min="-180" max="180" style="width: 80px;" step="any" value="','" />'])),d),p=e(b||(b=(0,ae.Z)(['<input name="input" type="number" autocomplete="off" min="-90" max="90" style="width: 80px;" step="any" value="','" />'])),f),v=t({type:"coordinates",title:a,description:u,submit:l,getValue:function(){var e=c.valueAsNumber,t=p.valueAsNumber;return[isNaN(e)?null:e,isNaN(t)?null:t]},form:e(h||(h=(0,ae.Z)(['\n      <form>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 6px 0 0;">\n          <span style="display: inline-block; width: 70px;">Longitude:</span>\n          ','\n        </label>\n        <br>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 0 0 6px;">\n          <span style="display: inline-block; width: 70px;">Latitude:</span>\n          ',"\n        </label>\n      </form>\n    "])),c,p)});return v.output.remove(),v}})),n.variable(t("worldMapCoordinatesDemo")).define("worldMapCoordinatesDemo",["md"],(function(e){return e(g||(g=(0,ae.Z)([' ---\n## World Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## World Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof worldMap1")).define("viewof worldMap1",["worldMapCoordinates"],(function(e){return e([-122.27,37.87])})),n.variable(t("worldMap1")).define("worldMap1",["Generators","viewof worldMap1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["worldMap1"],(function(e){return e})),n.variable(t("worldMapCoordinates")).define("worldMapCoordinates",["html","DOM","d3geo","graticule","land","countries","input"],(function(e,t,n,i,r,o,a){return function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=Array.isArray(u)?{value:u}:u,s=l.value,d=void 0===s?[]:s,f=l.title,c=l.description,p=l.width,v=void 0===p?400:p,m=Math.round(.525*v),b=(0,le.Z)(d,2),h=b[0],g=b[1];h=null!=h?h:null,g=null!=g?g:null;var y=e(w||(w=(0,ae.Z)(['<form style="width: ','px;"></form>'])),v),k=t.context2d(v,m),x=k.canvas;x.style.margin="10px 0 0";var j=n.geoNaturalEarth1().precision(.1).fitSize([v,m],{type:"Sphere"}),Z=n.geoPath(j,k).pointRadius(2.5);function M(){if(k.fillStyle="#fff",k.fillRect(0,0,v,m),k.beginPath(),Z(i),k.lineWidth=.35,k.strokeStyle="#ddd",k.stroke(),k.beginPath(),Z(r),k.fillStyle="#f4f4f4",k.fill(),k.beginPath(),Z(o),k.strokeStyle="#aaa",k.stroke(),null!=h&&null!=g){var e={type:"MultiPoint",coordinates:[[h,g]]};k.beginPath(),Z(e),k.fillStyle="#f00",k.fill()}}y.append(x),x.onclick=function(e){var t=e.offsetX,n=e.offsetY,i=j.invert([t,n]);h=+i[0].toFixed(2),g=+i[1].toFixed(2),M(),x.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},M();var G=a({type:"worldMapCoordinates",title:f,description:c,display:function(t){return e(_||(_=(0,ae.Z)(['<div style="position: absolute; width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),v,null!=h?h:"",null!=g?g:"")},getValue:function(){return[null!=h?h:null,null!=g?g:null]},form:y});return G}})),n.variable(t("usaMapCoordinatesDemo")).define("usaMapCoordinatesDemo",["md"],(function(e){return e(y||(y=(0,ae.Z)([' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof usaMap1")).define("viewof usaMap1",["usaMapCoordinates"],(function(e){return e([-122.27,37.87])})),n.variable(t("usaMap1")).define("usaMap1",["Generators","viewof usaMap1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["usaMap1"],(function(e){return e})),n.variable(t("viewof usaMap2")).define("viewof usaMap2",["usaMapCoordinates"],(function(e){return e({title:"A Mini Map",description:"Defaults to New York City",width:200,value:[-74,40.71]})})),n.variable(t("usaMap2")).define("usaMap2",["Generators","viewof usaMap2"],(function(e,t){return e.input(t)})),n.variable(t()).define(["usaMap2"],(function(e){return e})),n.variable(t("usaMapCoordinates")).define("usaMapCoordinates",["html","DOM","d3geo","nation","states","input"],(function(e,t,n,i,r,o){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=Array.isArray(a)?{value:a}:a,l=u.value,s=void 0===l?[]:l,d=u.title,f=u.description,c=u.width,p=void 0===c?400:c,v=p/960,m=600*v,b=(0,le.Z)(s,2),h=b[0],g=b[1];h=null!=h?h:null,g=null!=g?g:null;var w=e(k||(k=(0,ae.Z)(['<form style="width: ','px;"></form>'])),p),_=t.context2d(p,m),y=_.canvas;y.style.margin="5px 0 0";var j=n.geoAlbersUsa().scale(1280).translate([480,300]),Z=n.geoPath().context(_).pointRadius(2.5/v);function M(){if(_.clearRect(0,0,p,m),_.save(),_.scale(v,v),_.lineWidth=.35/v,_.beginPath(),Z(i),_.fillStyle="#f4f4f4",_.fill(),_.beginPath(),Z(r),_.strokeStyle="#aaa",_.stroke(),null!=h&&null!=g){var e={type:"MultiPoint",coordinates:[j([h,g])]};_.beginPath(),Z(e),_.fillStyle="#f00",_.fill()}_.restore()}w.append(y),y.onclick=function(e){var t=e.offsetX,n=e.offsetY,i=j.invert([t/v,n/v]);h=+i[0].toFixed(2),g=+i[1].toFixed(2),M(),y.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},M();var G=o({type:"worldMapCoordinates",title:d,description:f,display:function(t){return e(x||(x=(0,ae.Z)(['<div style="position: absolute; width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),p,null!=h?h:"",null!=g?g:"")},getValue:function(){return[null!=h?h:null,null!=g?g:null]},form:w});return G}})),n.variable(t("dateDemo")).define("dateDemo",["md"],(function(e){return e(j||(j=(0,ae.Z)([' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * `"2016-11-08"` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'],[' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * \\`"2016-11-08"\\` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof d")).define("viewof d",["date"],(function(e){return e()})),n.variable(t("d")).define("d",["Generators","viewof d"],(function(e,t){return e.input(t)})),n.variable(t("viewof d1")).define("viewof d1",["date"],(function(e){return e({title:"2017",min:"2017-01-01",max:"2017-12-31",value:"2017-01-01",description:"Only dates within the 2017 calendar year are allowed"})})),n.variable(t("d1")).define("d1",["Generators","viewof d1"],(function(e,t){return e.input(t)})),n.variable(t("date")).define("date",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"==typeof t?{value:t}:t,i=n.min,r=n.max,o=n.value,a=n.title,u=n.description,l=n.display;return e({type:"date",title:a,description:u,display:l,attributes:{min:i,max:r,value:o}})}})),n.variable(t("timeDemo")).define("timeDemo",["md"],(function(e){return e(Z||(Z=(0,ae.Z)([' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * `"09:30:45"`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'],[' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * \\`"09:30:45"\\`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof t")).define("viewof t",["time"],(function(e){return e()})),n.variable(t("t")).define("t",["Generators","viewof t"],(function(e,t){return e.input(t)})),n.variable(t()).define(["t"],(function(e){return e})),n.variable(t("viewof t1")).define("viewof t1",["time"],(function(e){return e({title:"Afternoon",min:"12:00:00",max:"23:59:59",value:"13:00:00",step:1,description:"Only times after noon are allowed, and seconds are included"})})),n.variable(t("t1")).define("t1",["Generators","viewof t1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["t1"],(function(e){return e})),n.variable(t("time")).define("time",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"==typeof t?{value:t}:t,i=n.min,r=n.max,o=n.step,a=n.value,u=n.title,l=n.description,s=n.display,d=e({type:"time",title:u,description:l,display:s,getValue:function(e){return e.value?e.value:void 0},attributes:{min:i,max:r,step:o,value:a}});return d.output.remove(),d}})),n.variable(t("fileDemo")).define("fileDemo",["md"],(function(e){return e(M||(M=(0,ae.Z)(['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n`import {file} from "@jashkenas/inputs"`'],['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n\\`import {file} from "@jashkenas/inputs"\\`'])))})),n.variable(t("viewof e")).define("viewof e",["file"],(function(e){return e()})),n.variable(t("e")).define("e",["Generators","viewof e"],(function(e,t){return e.input(t)})),n.variable(t("viewof e1")).define("viewof e1",["file"],(function(e){return e({title:"Photographs",description:"Only .jpg files are allowed in this example. Choose some images, and theyâ€™ll appear in the cell below.",accept:".jpg",multiple:!0})})),n.variable(t("e1")).define("e1",["Generators","viewof e1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["html","e1","Files"],function(){var e=(0,ue.Z)(de().mark((function e(t,n,i){var r,o,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t(G||(G=(0,ae.Z)(["<div>"]))),o=0;case 2:if(!(o<n.length)){e.next=12;break}return n[o],a=t(A||(A=(0,ae.Z)(['<img height="125px" style="margin: 2px;" />']))),e.next=7,i.url(n[o]);case 7:a.src=e.sent,r.append(a);case 9:o++,e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}()),n.variable(t("file")).define("file",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.multiple,i=t.accept,r=t.title,o=t.description,a=e({type:"file",title:r,description:o,attributes:{multiple:n,accept:i},action:function(e){e.input.onchange=function(){e.value=n?e.input.files:e.input.files[0],e.dispatchEvent(new CustomEvent("input"))}}});return a.output.remove(),a.input.onchange(),a}})),n.variable(t("textDemo")).define("textDemo",["md"],(function(e){return e(C||(C=(0,ae.Z)(['---\n## Text Inputs\n\n~~~js\nimport {text} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof f")).define("viewof f",["text"],(function(e){return e()})),n.variable(t("f")).define("f",["Generators","viewof f"],(function(e,t){return e.input(t)})),n.variable(t("viewof f1")).define("viewof f1",["text"],(function(e){return e({title:"A Text Input",placeholder:"Placeholder text",description:"Note that text inputs donâ€™t show output on the right"})})),n.variable(t("f1")).define("f1",["Generators","viewof f1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["f1"],(function(e){return e})),n.variable(t("viewof f2")).define("viewof f2",["text"],(function(e){return e({placeholder:"Placeholder text",description:"This input only changes value on submit",submit:"Go"})})),n.variable(t("f2")).define("f2",["Generators","viewof f2"],(function(e,t){return e.input(t)})),n.variable(t()).define(["f2"],(function(e){return e})),n.variable(t("text")).define("text",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"==typeof t?{value:t}:t,i=n.value,r=n.title,o=n.description,a=n.autocomplete,u=void 0===a?"off":a,l=n.maxlength,s=n.minlength,d=n.pattern,f=n.placeholder,c=n.size,p=n.submit,v=e({type:"text",title:r,description:o,submit:p,attributes:{value:i,autocomplete:u,maxlength:l,minlength:s,pattern:d,placeholder:f,size:c}});return v.output.remove(),v.input.style.fontSize="1em",v}})),n.variable(t("textareaDemo")).define("textareaDemo",["md"],(function(e){return e(S||(S=(0,ae.Z)(['---\n## Textareas\n\n~~~js\nimport {textarea} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof g")).define("viewof g",["textarea"],(function(e){return e()})),n.variable(t("g")).define("g",["Generators","viewof g"],(function(e,t){return e.input(t)})),n.variable(t()).define(["g"],(function(e){return e})),n.variable(t("viewof g1")).define("viewof g1",["textarea"],(function(e){return e({title:"Your Great American Novel",placeholder:"Insert story here...",spellcheck:!0,width:"100%",rows:10,submit:"Publish"})})),n.variable(t("g1")).define("g1",["Generators","viewof g1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["g1"],(function(e){return e})),n.variable(t("textarea")).define("textarea",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="string"==typeof n?{value:n}:n,r=i.value,o=void 0===r?"":r,a=i.title,u=i.description,l=i.autocomplete,s=i.cols,d=void 0===s?45:s,f=i.rows,c=void 0===f?3:f,p=i.width,v=i.height,m=i.maxlength,b=i.placeholder,h=i.spellcheck,g=i.wrap,w=i.submit,_=e({form:t(D||(D=(0,ae.Z)(['<form><textarea style="display: block; font-size: 0.8em;" name=input>',"</textarea></form>"])),o),title:a,description:u,submit:w,attributes:{autocomplete:l,cols:d,rows:c,maxlength:m,placeholder:b,spellcheck:h,wrap:g}});return _.output.remove(),null!=p&&(_.input.style.width=p),null!=v&&(_.input.style.height=v),w&&(_.submit.style.margin="0"),(a||u)&&(_.input.style.margin="3px 0"),_}})),n.variable(t("radioDemo")).define("radioDemo",["md"],(function(e){return e(P||(P=(0,ae.Z)(['---\n## Radio Buttons\n\n~~~js\nimport {radio} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof r")).define("viewof r",["radio"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),n.variable(t("r")).define("r",["Generators","viewof r"],(function(e,t){return e.input(t)})),n.variable(t()).define(["r"],(function(e){return e})),n.variable(t("viewof r1")).define("viewof r1",["radio"],(function(e){return e({title:"Contact Us",description:"Please select your preferred contact method",options:[{label:"By Email",value:"email"},{label:"By Phone",value:"phone"},{label:"By Pager",value:"pager"}],value:"pager"})})),n.variable(t("r1")).define("r1",["Generators","viewof r1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["r1"],(function(e){return e})),n.variable(t("radio")).define("radio",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Array.isArray(n)?{options:n}:n,r=i.value,o=i.title,a=i.description,u=i.submit,l=i.options;l=l.map((function(e){return"string"==typeof e?{value:e,label:e}:e}));var s=e({type:"radio",title:o,description:a,submit:u,getValue:function(e){if(e.checked)return e.value;var t=Array.prototype.find.call(e,(function(e){return e.checked}));return t?t.value:void 0},form:t(E||(E=(0,ae.Z)(["\n      <form>\n        ","\n      </form>\n    "])),l.map((function(e){var n=e.value,i=e.label,o=t(T||(T=(0,ae.Z)(["<input type=radio name=input ",' style="vertical-align: baseline;" />'])),n===r?"checked":"");return o.setAttribute("value",n),t(q||(q=(0,ae.Z)(['\n          <label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return s.output.remove(),s}})),n.variable(t("checkboxDemo")).define("checkboxDemo",["md"],(function(e){return e(z||(z=(0,ae.Z)(['---\n## Checkboxes\n\n~~~js\nimport {checkbox} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof ch")).define("viewof ch",["checkbox"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),n.variable(t("ch")).define("ch",["Generators","viewof ch"],(function(e,t){return e.input(t)})),n.variable(t()).define(["ch"],(function(e){return e})),n.variable(t("viewof ch1")).define("viewof ch1",["checkbox"],(function(e){return e({title:"Colors",description:"Please select your favorite colors",options:[{value:"r",label:"Red"},{value:"o",label:"Orange"},{value:"y",label:"Yellow"},{value:"g",label:"Green"},{value:"b",label:"Blue"},{value:"i",label:"Indigo"},{value:"v",label:"Violet"}],value:["r","g","b"],submit:!0})})),n.variable(t("ch1")).define("ch1",["Generators","viewof ch1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["ch1"],(function(e){return e})),n.variable(t("viewof ch3")).define("viewof ch3",["checkbox"],(function(e){return e({description:"Just a single checkbox to toggle",options:[{value:"toggle",label:"On"}],value:"toggle"})})),n.variable(t("ch3")).define("ch3",["Generators","viewof ch3"],(function(e,t){return e.input(t)})),n.variable(t()).define(["ch3"],(function(e){return e})),n.variable(t("checkbox")).define("checkbox",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Array.isArray(n)?{options:n}:n,r=i.value,o=i.title,a=i.description,u=i.submit,l=i.options;l=l.map((function(e){return"string"==typeof e?{value:e,label:e}:e}));var s=e({type:"checkbox",title:o,description:a,submit:u,getValue:function(e){return e.length?Array.prototype.filter.call(e,(function(e){return e.checked})).map((function(e){return e.value})):!!e.checked&&e.value},form:t(N||(N=(0,ae.Z)(["\n      <form>\n        ","\n      </form>\n    "])),l.map((function(e){var n=e.value,i=e.label,o=t(O||(O=(0,ae.Z)(["<input type=checkbox name=input ",' style="vertical-align: baseline;" />'])),(r||[]).indexOf(n)>-1?"checked":"");return o.setAttribute("value",n),t(U||(U=(0,ae.Z)(['<label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return s.output.remove(),s}})),n.variable(t("numberDemo")).define("numberDemo",["md"],(function(e){return e(I||(I=(0,ae.Z)(['---\n## Numbers\n\n~~~js\nimport {number} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof h")).define("viewof h",["number"],(function(e){return e()})),n.variable(t("h")).define("h",["Generators","viewof h"],(function(e,t){return e.input(t)})),n.variable(t()).define(["h"],(function(e){return e})),n.variable(t("viewof h1")).define("viewof h1",["number"],(function(e){return e({placeholder:"13+",title:"Your Age",submit:!0})})),n.variable(t("h1")).define("h1",["Generators","viewof h1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["h1"],(function(e){return e})),n.variable(t("number")).define("number",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"==typeof t||"string"==typeof t?{value:+t}:t,i=n.value,r=n.title,o=n.description,a=n.placeholder,u=n.submit,l=n.step,s=void 0===l?"any":l,d=n.min,f=n.max,c=e({type:"number",title:r,description:o,submit:u,attributes:{value:i,placeholder:a,step:s,min:d,max:f,autocomplete:"off"},getValue:function(e){return e.valueAsNumber}});return c.output.remove(),c.input.style.width="auto",c.input.style.fontSize="1em",c}})),n.variable(t("passwordDemo")).define("passwordDemo",["md"],(function(e){return e(L||(L=(0,ae.Z)(['---\n## Passwords\n\n~~~js\nimport {password} from "@jashkenas/inputs"\n~~~'])))})),n.variable(t("viewof i")).define("viewof i",["password"],(function(e){return e({value:"password"})})),n.variable(t("i")).define("i",["Generators","viewof i"],(function(e,t){return e.input(t)})),n.variable(t()).define(["i"],(function(e){return e})),n.variable(t("viewof i1")).define("viewof i1",["password"],(function(e){return e({title:"Your super secret password",description:"Less than 12 characters, please.",minlength:6,maxlength:12})})),n.variable(t("i1")).define("i1",["Generators","viewof i1"],(function(e,t){return e.input(t)})),n.variable(t()).define(["i1"],(function(e){return e})),n.variable(t("password")).define("password",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"==typeof t?{value:t}:t,i=n.value,r=n.title,o=n.description,a=n.autocomplete,u=void 0===a?"off":a,l=n.maxlength,s=n.minlength,d=n.pattern,f=n.placeholder,c=n.size,p=n.submit,v=e({type:"password",title:r,description:o,submit:p,attributes:{value:i,autocomplete:u,maxlength:l,minlength:s,pattern:d,placeholder:f,size:c}});return v.output.remove(),v.input.style.fontSize="1em",v}})),n.variable(t()).define(["md"],(function(e){return e(F||(F=(0,ae.Z)(["---\n## Wishlist (Send suggestions, please!)\n\n* 2D coordinate input (using an &lt;svg>)\n* 3D coordinate input (for say, positioning a camera in a WebGL sketch)\n* Geocoder search with location autocomplete that returns longitude and latitude.\n* Degrees or radians input, for circular things, or angles.\n* A dimensions input, or a box-model input, with margin (and optionally, padding).\n* A map-projection-picker input, rendering little thumbnails of all the d3-geo-projections.\n* Other useful formatting options.\n\n---"])))})),n.variable(t("input")).define("input",["html","d3format"],(function(e,t){return function(n){var i=n.form,r=n.type,o=void 0===r?"text":r,a=n.attributes,u=void 0===a?{}:a,l=n.action,s=n.getValue,d=n.title,f=n.description,c=n.format,p=n.display,v=n.submit,m=(n.options,e(W||(W=(0,ae.Z)(["<div></div>"]))));if(i||(i=e(Y||(Y=(0,ae.Z)(["<form>\n\t<input name=input type="," />\n  </form>"])),o)),Object.keys(u).forEach((function(e){var t=u[e];null!=t&&i.input.setAttribute(e,t)})),v&&i.append(e(B||(B=(0,ae.Z)(['<input name=submit type=submit style="margin: 0 0.75em" value="','" />'])),"string"==typeof v?v:"Submit")),i.append(e(R||(R=(0,ae.Z)(['<output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"></output>'])))),d&&i.prepend(e(V||(V=(0,ae.Z)(['<div style="font: 700 0.9rem sans-serif;">',"</div>"])),d)),f&&i.append(e(H||(H=(0,ae.Z)(['<div style="font-size: 0.85rem; font-style: italic;">',"</div>"])),f)),c&&(c="function"==typeof c?c:t.format(c)),l)l(i);else{var b=v?"onsubmit":"button"==o?"onclick":"checkbox"==o||"radio"==o?"onchange":"oninput";i[b]=function(e){e&&e.preventDefault();var t=s?s(i.input):i.input.value;if(i.output){var n=p?p(t):c?c(t):t;if(n instanceof window.Element){for(;i.output.hasChildNodes();)i.output.removeChild(i.output.lastChild);i.output.append(n)}else i.output.value=n}i.value=t,"oninput"!==b&&i.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},"oninput"!==b&&(m.oninput=function(e){return e&&e.stopPropagation()&&e.preventDefault()}),"onsubmit"!==b&&(i.onsubmit=function(e){return e&&e.preventDefault()}),i[b]()}for(;i.childNodes.length;)m.appendChild(i.childNodes[0]);return i.append(m),i}})),n.variable(t("d3geo")).define("d3geo",["require"],(function(e){return e("d3-geo@1")})),n.variable(t("d3format")).define("d3format",["require"],(function(e){return e("d3-format@1")})),n.variable(t("topojson")).define("topojson",["require"],(function(e){return e("topojson-client@3")})),n.variable(t("world")).define("world",(0,ue.Z)(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),n.variable(t("land")).define("land",["topojson","world"],(function(e,t){return e.feature(t,t.objects.land)})),n.variable(t("countries")).define("countries",["topojson","world"],(function(e,t){return e.feature(t,t.objects.countries)})),n.variable(t("usa")).define("usa",(0,ue.Z)(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/us-atlas@^2.1/us/states-10m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),n.variable(t("nation")).define("nation",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.nation)})),n.variable(t("states")).define("states",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.states)})),n.variable(t("graticule")).define("graticule",["d3geo"],(function(e){return e.geoGraticule10()})),n.variable(t("viewof license")).define("viewof license",["md"],(function(e){var t=e(J||(J=(0,ae.Z)(["License: [MIT](https://opensource.org/licenses/MIT)"])));return t.value="MIT",t})),n.variable(t("license")).define("license",["Generators","viewof license"],(function(e,t){return e.input(t)})),n.variable(t()).define(["md"],(function(e){return e(K||(K=(0,ae.Z)(["*Clip art courtesy [ClipArt ETC](https://etc.usf.edu/clipart/), radio buttons and checkboxes courtesy [Amit Sch](https://beta.observablehq.com/@meetamit/multiple-choice-inputs).*"])))})),n}function ce(e,t){var n=e.module();n.variable(t("title")).define("title",["md"],(function(e){return e(X||(X=(0,ae.Z)(["# Energy usage and goods imports and exports"])))})),n.variable(t()).define(["md"],(function(e){return e($||($=(0,ae.Z)(["*A final version of this notebook can be viewed on my blog [here](https://www.robinlinacre.com/country_energy_usage/).*"])))})),n.variable(t("intro")).define("intro",["md","pepc_dict","tfec_dict","pepc_def","tfec_def"],(function(e,t,n,i,r){return e(Q||(Q=(0,ae.Z)(["The following charts show energy usage per head of the population for different countries, converted into kilowatt hours per day to be consistent with my other notebooks.\n\nThe data is queried directly from the [World Bank indicators API](https://datahelpdesk.worldbank.org/knowledgebase/articles/889392-about-the-indicators-api-documentation).\n\nThe two metrics of total energy usage which are available are:\n- ","\n- ","\n\n### [","](https://datacatalog.worldbank.org/energy-use-kg-oil-equivalent-capita-1)\n\n","\n\n\n### [","](https://datacatalog.worldbank.org/total-final-energy-consumption-tfec)\n\n","\n\n\nNote that neither definition accounts for the energy embodied in imported goods.  So if a country uses energy to manufacture goods, and then exports those good, this energy is counted in the exporting country's energy usage, not that of the importing country.\n\n\n"])),t.GBR.indicator.value,n.GBR.indicator.value,t.GBR.indicator.value,i[1][0].sourceNote,n.GBR.indicator.value,r[1][0].sourceNote)})),n.variable(t("metric_label_lookup")).define("metric_label_lookup",(function(){return{final_energy_consumption_per_capita_kwh:{label:"Final energy consumption, kwh per capita per day ",value:"final_energy_consumption_per_capita_kwh"},primary_energy_per_capita_kwh:{label:"Primary energy consumption, kwh per capita per day",value:"primary_energy_per_capita_kwh"}}})),n.variable(t("viewof metric")).define("viewof metric",["select","metric_label_lookup"],(function(e,t){return e({title:"Select metric to plot",options:Object.values(t),value:"final_energy_consumption_per_capita_kwh"})})),n.variable(t("metric")).define("metric",["Generators","viewof metric"],(function(e,t){return e.input(t)})),n.variable(t("height")).define("height",["width"],(function(e){return e/1.8})),n.variable(t("country_map")).define("country_map",["vega_embed","metric_label_lookup","metric","width","height","world","table_data_to_plot"],(function(e,t,n,i,r,o,a){return e({$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:"".concat(t[n].label),width:i,height:r,autosize:"fit",config:{view:{stroke:"transparent"}},data:{values:o,format:{type:"topojson",feature:"countries"}},transform:[{lookup:"id",from:{data:{values:a},key:"country_id",fields:["final_energy_consumption_per_capita_kwh","primary_energy_per_capita_kwh","country_name"]}}],projection:{type:"naturalEarth1",scale:i/4.5,center:[10,10],translate:[i/2,r/2]},mark:{type:"geoshape",stroke:"#757575",strokeWidth:.5},encoding:{color:{field:n,type:"quantitative",legend:null},tooltip:[{field:"primary_energy_per_capita_kwh",type:"quantitative",format:",.1f"},{field:"final_energy_consumption_per_capita_kwh",type:"quantitative",format:",.1f"},{field:"country_name",type:"nominal"}]}})})),n.variable(t("bar_chart")).define("bar_chart",["vega_embed","table_data_to_plot","metric","width","metric_label_lookup"],(function(e,t,n,i,r){return e({data:{values:t},transform:[{filter:{field:"population",gt:"20e6"}},{filter:{field:n,gt:0}}],width:i,height:1e3,autosize:"fit",mark:"bar",encoding:{y:{field:"country_name",type:"nominal",sort:{field:n,op:"mean",order:"descending"}},x:{field:n,type:"quantitative"},tooltip:[{field:"primary_energy_per_capita_kwh",type:"quantitative",format:",.1f"},{field:"final_energy_consumption_per_capita_kwh",type:"quantitative",format:",.1f"},{field:"country_name",type:"nominal"}]},title:"".concat(r[n].label," for countries with population > 20 million")})})),n.variable(t("styles")).define("styles",["html"],(function(e){return e(ee||(ee=(0,ae.Z)(["<style>\n.vega-embed-wrapper {overflow: hidden}\n\n#vg-tooltip-element table  td {\n    white-space: nowrap;\n    font-size: 0.8rem;\n    border-bottom: 0px;\n}\n\n#vg-tooltip-element table tr td.key {\n    max-width:500px;\n}\n\n#vg-tooltip-element table   {\n    margin-bottom: 0rem;\n    line-height: 1rem;\n    border-collapse: unset;\n}\n\n"])))})),n.variable(t("sewha_comparison")).define("sewha_comparison",["md"],(function(e){return e(te||(te=(0,ae.Z)(["## Comparison to SEWHA\n\n[Sustainable Energy Without the Hot Air](http://www.inference.org.uk/sustainable/book/tex/sewtha.pdf) contains charts of energy consumption of different countries.  See pages 231 and 105.  See page 381 for the conversion of barrels of oil to kwh.\n\nThis data is sourced from [UNDP Human Development Report, 2007](http://hdr.undp.org/sites/default/files/reports/268/hdr_20072008_en_complete.pdf), see table 23 page  306.  It is based on [Total primary\nenergy supply](https://en.wikipedia.org/wiki/Primary_energy)"])))})),n.variable(t()).define(["md"],(function(e){return e(ne||(ne=(0,ae.Z)(["## Combine data"])))})),n.variable(t("api_results_to_country_lookup_dict")).define("api_results_to_country_lookup_dict",(function(){return function(e){return e[1].reduce((function(e,t){var n="";return 3==t.country.id.length&&(n=t.country.id),""!=t.countryiso3code&&(n=t.countryiso3code),""!=n&&(e[n]=t),e}),{})}})),n.variable(t("pepc_dict")).define("pepc_dict",["api_results_to_country_lookup_dict","primary_energy_use_pc_raw"],(function(e,t){return e(t)})),n.variable(t("tfec_dict")).define("tfec_dict",["api_results_to_country_lookup_dict","total_final_energy_consumption_raw"],(function(e,t){return e(t)})),n.variable(t("exp_dict")).define("exp_dict",["api_results_to_country_lookup_dict","merchandice_exports_raw"],(function(e,t){return e(t)})),n.variable(t("population_dict")).define("population_dict",["api_results_to_country_lookup_dict","population_raw"],(function(e,t){return e(t)})),n.variable(t("countries_dict")).define("countries_dict",["countries_raw"],(function(e){return e[1].reduce((function(e,t){return""!=t.id&&(e[t.id]=t),e}),{})})),n.variable(t("countries_dict_iso2")).define("countries_dict_iso2",["countries_raw"],(function(e){return e[1].reduce((function(e,t){return""!=t.id&&(e[t.iso2Code]=t),e}),{})})),n.variable(t("countries_to_id_dict")).define("countries_to_id_dict",["id_to_country_raw"],(function(e){return e.reduce((function(e,t){return""!=t.code&&(e[t.code]=t),e}),{})})),n.variable(t("convert_kg_oil_eq_to_kwh")).define("convert_kg_oil_eq_to_kwh",(function(){return function(e){return null==e?null:11.63*e/365}})),n.variable(t("convert_tfec_to_kwh_per_capita")).define("convert_tfec_to_kwh_per_capita",(function(){return function(e,t){return null==e||null==t||0==t?null:1e12*e/(36e5*t)/365.25}})),n.variable(t("get_value_if_exists")).define("get_value_if_exists",(function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t in e){var r=e[t];if(n in r){var o=r[n];return i?+o:o}return null}return null}})),n.variable(t("table_data_to_plot")).define("table_data_to_plot",["countries_to_id_dict","countries_dict_iso2","get_value_if_exists","pepc_dict","tfec_dict","population_dict","convert_kg_oil_eq_to_kwh","convert_tfec_to_kwh_per_capita"],(function(e,t,n,i,r,o,a,u){return Object.keys(e).map((function(l){var s={},d="";l in t&&(d=t[l].id),s.iso2code=l,s.country_name=e[l].name,s.country_id=e[l].id,s.primary_energy_per_capita_kg_oil_eq=n(i,d),s.total_final_energy_consumption_tj=n(r,d),s.population=n(o,d);var f=s.primary_energy_per_capita_kg_oil_eq;s.primary_energy_per_capita_kwh=a(f);var c=s.population,p=s.total_final_energy_consumption_tj;return s.final_energy_consumption_per_capita_kwh=u(p,c),s}))})),n.variable(t("final_data_lookup")).define("final_data_lookup",["table_data_to_plot"],(function(e){return e.reduce((function(e,t){return""!=t.country_id&&(e[t.country_id]=t),e}),{})})),n.variable(t()).define(["md"],(function(e){return e(ie||(ie=(0,ae.Z)(["## Get data from the API"])))})),n.variable(t("countries_raw")).define("countries_raw",["d3"],(function(e){return e.json("https://api.worldbank.org/v2/country?format=json&per_page=1000")})),n.variable(t("total_final_energy_consumption_raw")).define("total_final_energy_consumption_raw",["d3"],(function(e){return e.json("https://red-wave-c29f.robinlinacre.workers.dev/corsproxy/?apiurl=https://api.worldbank.org/countries/all/indicators/1.1_TOTAL.FINAL.ENERGY.CONSUM?date=2014%3A2014%26format=json%26per_page=1000")})),n.variable(t("merchandice_exports_raw")).define("merchandice_exports_raw",["d3"],(function(e){return e.json("https://red-wave-c29f.robinlinacre.workers.dev/corsproxy/?apiurl=https://api.worldbank.org/countries/all/indicators/TX.VAL.MRCH.CD.WT?date=2014%3A2014%26format=json%26per_page=1000")})),n.variable(t("primary_energy_use_pc_raw")).define("primary_energy_use_pc_raw",["d3"],(function(e){return e.json("https://red-wave-c29f.robinlinacre.workers.dev/corsproxy/?apiurl=https://api.worldbank.org/countries/all/indicators/EG.USE.PCAP.KG.OE?date=2014%3A2014%26format=json%26per_page=1000")})),n.variable(t("population_raw")).define("population_raw",["d3"],(function(e){return e.json("https://red-wave-c29f.robinlinacre.workers.dev/corsproxy/?apiurl=https://api.worldbank.org/countries/all/indicators/SP.POP.TOTL?date=2014%3A2014%26format=json%26per_page=1000")})),n.variable(t("id_to_country_raw")).define("id_to_country_raw",["d3"],(function(e){return e.json("https://raw.githubusercontent.com/alisle/world-110m-country-codes/master/world-110m-country-codes.json")})),n.variable(t("tfec_def")).define("tfec_def",["d3"],(function(e){return e.json("https://api.worldbank.org/v2/indicator/1.1_TOTAL.FINAL.ENERGY.CONSUM?format=json")})),n.variable(t("pepc_def")).define("pepc_def",["d3"],(function(e){return e.json("https://api.worldbank.org/v2/indicator/EG.USE.PCAP.KG.OE?format=json")})),n.variable(t()).define(["md"],(function(e){return e(re||(re=(0,ae.Z)(["## Geodata"])))})),n.variable(t("world")).define("world",["d3"],(function(e){return e.json("https://vega.github.io/vega-datasets/data/world-110m.json")})),n.variable(t()).define(["md"],(function(e){return e(oe||(oe=(0,ae.Z)(["## External libraries"])))})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@5")})),n.variable(t("vega_embed")).define("vega_embed",["require"],(function(e){return e("vega-embed")})),n.variable(t("vegalite")).define("vegalite",["require"],(function(e){return e("@observablehq/vega-lite@0.2")}));var i=e.module(fe);return n.import("select",i),n}var pe=n(2263),ve=n(674),me={title:"Comparing energy usage across countries",post_date:"2020-04-17",code_url:"https://observablehq.com/@robinl/energy-usage-and-goods-imports-and-exports",post_type:"obs",post_category:"energy",description:""},be=["title","intro","viewof metric","country_map","bar_chart","sewha_comparison","styles"],he=function(e){e.data;return(0,ve.tZ)(pe.Z,{define:ce,output_order:be,post_frontmatter:me})}}}]);
//# sourceMappingURL=component---src-pages-country-energy-usage-jsx-169c5339b27f0b0834c9.js.map